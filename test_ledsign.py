from pyledsign.minisign import MiniSign
import sys, time

import serialfind

portname = serialfind.serialfind()
print portname


# TEST 1 - PLAIN TEXT

mysign = MiniSign(devicetype='sign',port=portname,)
# queue up a text message (the weather -- see https://pyowm.readthedocs.io/en/latest/)
# from weather import get_weather

# forecast = get_weather('07307')
# print 'The forecast for JC Heights is %s' % forecast

mysign.queuemsg(data='Hello World')
mysign.queuemsg(data='Is it snowing yet?',effect='snow')
mysign.sendqueue(device=portname)
print 'done TEXT mode test.. sleep for 6 seconds'

time.sleep(6)



# TEST 2 - RENDERED FONT SMALL
# the test from the docs

print 'testing FONT mode output'

from pyledsign.minisign import MiniSign
mysign = MiniSign(devicetype='sign',)
# make a 5x5 pixel outlined box 
# height max is 256
pic=mysign.queuepix(
      height=5,
      width =5,
      data  =
        "11111" \
        "10001" \
        "10001" \
        "10001" \
        "11111"
);

mysign.queuemsg(data="a 5 pixel box: %s" % pic, effect='hold');
mysign.sendqueue(device=portname)

print 'done FONT mode test.. sleep for 6 seconds'
time.sleep(6)


# TEST 3 - RENDERED FONT FULL SCREEN
# now use that in a message
# random 16 by 96 box of pixels (the sign's dimensions)

mysign = MiniSign(devicetype='sign',)
# make a 16 by 96 pixel outlined box 
# height max is 256

pic=mysign.queuepix(
      height=16,
      width =96,
      data  =
        "111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111" \
        "100011000101100011000101100011000101100011000101100011000101100011000101100011000101100011000101" \
        "100011000111100011000111100011000111100011000111100011000111100011000111100011000111100011000111" \
        "100011000100100011000100100011000100100011000100100011000100100011000100100011000100100011000100" \
       	"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111" \
        "100011000101100011000101100011000101100011000101100011000101100011000101100011000101100011000101" \
        "100011000111100011000111100011000111100011000111100011000111100011000111100011000111100011000111" \
        "100011000100100011000100100011000100100011000100100011000100100011000100100011000100100011000100" \
        "111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111" \
        "100011000101100011000101100011000101100011000101100011000101100011000101100011000101100011000101" \
        "100011000111100011000111100011000111100011000111100011000111100011000111100011000111100011000111" \
        "100011000100100011000100100011000100100011000100100011000100100011000100100011000100100011000100" \
       	"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111" \
        "100011000101100011000101100011000101100011000101100011000101100011000101100011000101100011000101" \
        "100011000111100011000111100011000111100011000111100011000111100011000111100011000111100011000111" \
        "111111111100111111111100111111111100111111111100111111111100111111111100111111111100111111111100"
);
# now use that in a message
mysign.queuemsg(data="%s" % pic,effect='hold');
mysign.sendqueue(device=portname)

